---
title:  "23년 가을 미국 NewYork, Maryland"
excerpt: "뉴욕, 매릴랜드로의 짧은 가을 여행"

categories:
  - 여행/단상
tags:
  - NewYork
  - Maryland
  - 여행

comments: true

last_modified_at: 2024-03-17T08:06:00-05:00
---

23년 9월말 10월초 한국의 추석 연휴에 **미국의 뉴욕과 매릴랜드**로 짧은 여행을 다녀왔다. 매릴랜드는 와이프가 거주하고 있는 곳이어서 사실 여행이라고 하기에는 조금 민망하지만 그래도 지난 신혼여행 때 잠깐 들렀던 때와는 또 새로운 경험을 해봤으니 기록해두는 겸 적어본다.

여행 기간은 23.9.28 ~ 23.10.4일이었고, 매릴랜드 in, 매릴랜드-뉴욕 간의 왕복은 Amtrak, 이후 다시 매릴랜드 out의 일정이었다.   

## 1. NewYork에서 먹고 다닌 기록들


## 2. Maryland(Gaithersburg)에서의 기록 

매릴랜드, 특히 게이더스버그(Gaithersburg) Kentlands 지역은 24년 여름부터 1년 이상 거주할 동네라서 크게 새로울 것이 없을 수 있지만 그래도 아직까진 갈 때마다 모든게 신기하고 이뻐보여서 그 느낌을 다시 떠올릴 겸 기록해둔다. 

우선 워싱턴 DC IAD 공항에서 게이더스버그로 차타고 갈 때 무지개가 너무 이뻐서 찍었다.
![](https://github.com/dswcrispr/dswcrispr.github.io/blob/master/assets/images/23 nymd/rainbow.jpg?raw=true)

게이더스버그 인근 Kentlands의 맛집 **Burtons Grill & Bar**. 구글 평점이 4.3점 정도인데 이 정도면 동네 음식점 치고는 괜찮은 평점이 아닌가 싶고, 실제로도 매우 맛있었다. 방문할 때는 몰랐는데 지금 검색해보니 이것도 미국 내 체인 식당이었다. 

Classic Burger($18)와 Mediterranean Chiken Risotto($21)을 시켰는데 버거안에 패티의 굽기가 적당했고 육즙이 많았다. 그리고 리조또도 짠맛을 싫어하는 나에게 딱 잘 맞았다. 
![](https://github.com/dswcrispr/dswcrispr.github.io/blob/master/assets/images/23nymd/burger.jpg?raw=true)

![](https://github.com/dswcrispr/dswcrispr.github.io/blob/master/assets/images/23nymd/rice.jpg?raw=true)

매랠린드서 









<br>
## 3. Geometric Brownian Motion 시뮬레이션 

위에서 구한 이더리움 가격 data를 바탕으로 Geometric Brownian Motion 시뮬레이션을 구현해본다.  
<br>
앞서 소개한 Geometric Brownian Motion 수식을 다시 써보면 아래와 같다. 

$$
S_{t} = S_{0}\textit{e}^{(\mu -\frac{1}{2}\sigma ^{2})t+\sigma \textit{W}_{t}}\;\;\;(2)\\
$$  

이더리움 가격에 대한 시뮬레이션은 위 (2)식의 변수에 값을 대입하여 $S_{0}$으로부터 $S_{1}$, $S_{2}$ ...  $S_{t}$ 
 값들을 계산해 나가는 과정이다.  

이때 초기값($\textit{S}_{0}$)은 2020.2.7일의 이더리움 가격이며, $\mu$는 2018.1.1 ~ 2021.12.31 기간 중 이더리움 일일 수익률의 평균값, $\sigma$는 일일 수익률의 표준편차를 이용한다.  

Brownian motion 항($W_{t}$)은 각 k 시점마다의 충격, $b_{k} \sim N(0, k)$ 의 합 즉, $W_{t} = \sum_{k=1}^{t}b_{k}$ 으로 주어지며, 여기에서는 이더리움의 일별 가격자료를 활용하므로 $k$ = 1로 둔다.  

실제 계산에서는 (2)식의 $e^{(\mu -\frac{1}{2}\sigma ^{2})t+\sigma W_{t}}$ 부분을 drift 항($e^{(\mu -\frac{1}{2}\sigma ^{2}t)}$)과  diffusion 항($e^{\sigma W_{t}}$)으로 분리하여 $S_{0}$에 곱하는 식으로 $S_{t}$을 구한다.
<br>

이제 simulation에 필요한 변수들을 아래와 같이 설정한다. 

```python
## Simulation 변수 설정

# dt: 이더리움의 일별 가격을 이용하기 때문에 시간 간격을 1로 설정)
dt = 1

# T: 예측기간, 여기에서는 100일 뒤까지의 가격 경로를 시뮬레이션
T = 100

# N 
N = T / dt

# n: simulation path의 수
n = 100

# s0: 앞서 구한 이더리움 가격의 최종값을 시뮬레이션 초기 가격으로 설정
s0 = eth_price.loc[eth_price.shape[0] - 1, 'close']

# mu: 이더리움 데이터로부터의 역사적 일별수익률의 평균
returns = (eth_price.loc[1:, 'close'] - eth_price.shift(1).loc[1:, 'close']) / eth_price.shift(1).loc[1:, 'close']

mu = np.mean(returns)

print(mu)
>>> mu
0.003249842232051855

# sigma: mu의 표준편차
sigma = np.std(returns)

print(sigma)
>>> sigma
0.065230344178387
```

아래에서는 GBM(Geometric Brownian Motion) 클래스안에 simulate 함수를 정의한다.
```python
# GBM(Geometric Brownian Motion) 클래스 정의
class GBM:

    def simulate(self):
        while(self.T > 0):
            # drift 항 계산
            drift = (self.mu - (0.5 * self.sigma**2)) * (T - self.T + 1)
            # diffusion 항 계산
            diffusion = self.sigma * self.b.cumsum()[T - self.T]
            # 새롭게 계산된 St 값을 self.prices 변수에 추가
            self.prices.append(self.current_price * np.exp(drift + diffusion))
            # loop 마다 1일이 지남을 반영 
            self.T -= self.dt


    def __init__(self, s0, mu, sigma, dt, T):
        # 초기 변수들
        self.current_price = s0
        self.mu = mu
        self.sigma = sigma
        self.b = np.random.normal(0, dt, int(N))
        self.dt = dt
        self.T = T
        self.prices = []
        # simulate 함수를 실행
        self.simulate()   
```

위에서 설정한 simulation에 필요한 변수를 GBM 클래스에 대입하여 $S_{1}$, $S_{2}$ ... $S_{T}$을 계산하고, 이를 그래프로 표현한다.
 
``` python
# simulation 결과를 저장할 비어있는 list 생성
simulations = []

# random.seed 설정(코드 반복 수행시 동일한 random값을 얻기 위해서)
np.random.seed(100)

# simulation 수행 및 그래프 그리기(총 n번의 simulation 수행)
plt.figure(figsize=(20, 10))
for i in range(0, n):
    simulations.append(GBM(s0, mu, sigma, dt, T))

for sim in simulations:
    plt.plot(np.arange(0, len(sim.prices)), sim.prices)
    plt.ylabel('Price evolution')
    plt.xlabel('Time steps(days)')
    plt.title("ETH/USD price Monte Carlo Simulation")

plt.show()
```
![](https://github.com/dswcrispr/dswcrispr.github.io/blob/master/assets/images/simulation.jpg?raw=true)