---
title:  "python에서 class의 개념과 예시"
excerpt: "class의 개념 및 간단한 예시"

categories:
  - 프로젝트
tags:
  - python
  - class
  - OOP(object oriented program)
  - 객체지향 프로그램

use_math: true
comments: true

last_modified_at: 2023-08-09T08:06:00-05:00
---

github이나 tech blog에서 python 코드를 보다보면 class를 활용한 코드 작성을 많이 보게되는데, 이와 관련해서 그때 그때 내용을 읽어보아도 제대로 정리해두지 않으니 자꾸 까먹게 된다. 그래서 비교적 알기쉽게 정리가 잘 되어 있는 조대표의 ['파이썬으로 배우는 알고리즘 트레이딩'](https://wikidocs.net/book/110) 책에서 class 관련 내용과 예시를 발췌하여 정리해 두기로 한다. >

## 1. class의 정의 

### (1) 개괄

이 책에서는 객체와 class를 명함첩을 만드는 프로그램의 예시를 통해 설명하고 있는데, 아래에서는 그 흐름을 따라가 본다. 

우선 고객의 이름, e-mail, 주소 등의 정보를 담고 있는 명함을 제작한다고 생각해보자. 그럼 아래 코드와 같은 함수를 만들어 명함을 출력하는 방식을 생각해 볼 수 있다.

```python
# 이름, email, 주소 등을 저장
name = 'Youngsoo Kim'
email ='ysk@naver.com'
addr = 'Incheon'

# 명함 출력 함수
def print_business_card(name, email, addr):
    print('--------------------------')
    print('Name: %s' % name)
    print('E-mail: %s' % email)
    print('Address: %s' % addr)
    print('--------------------------')
```

그런데 회원수가 김영수 1명에서 2명, 3명 계속 늘어나는 상황을 가정해보자. 그럼 일일이 각 고객의 이름, email, 주소를 저장하고 'print_business_card' 함수에 각 정보를 인자로 전달하여 명함을 출력하는 방식을 생각해볼 수 있다.

위와 같은 처리방식을 진행하기 위해서는 name_list, email_list, addr_list 등의 list를 만들어 각 고객의 정보를 name_list[0], email_list[0], addr_list[0] 형태로 저장하고 이를 'print_business_card' 함수에 인자를 주어 명함을 출력할 것이다. 이를 그림으로 도식화하면 아래와 같다. 

![](https://github.com/dswcrispr/dswcrispr.github.io/blob/master/assets/images/class_concept/class_1.jpg?raw=true)
<br>
그림1 (출처: '파이썬으로 배우는 알고리즘 트레이딩')

위의 그림과 같이 **데이터와 데이터를 처리하는 함수가 분리되어 있고 함수를 순차적으로 호출하면서 데이터를 조작**하는 프로그래밍 방식을 **절차지향 프로그래밍**이라 한다.

이와 달리 **객체지향 프로그래밍**은 **객체(object)**를 정의하는 것에서 시작한다. 그렇다면 객체는 또 무엇인가??

위의 명함만들기 예제에서 이름, email, 주소 등과 같은 **명함을 구성하는 데이터**와 명함을 출력하는 'print_business' **함수**를 묶은 것을 **객체**라 한다.

![](https://github.com/dswcrispr/dswcrispr.github.io/blob/master/assets/images/class_concept/class_2.jpg?raw=true)
<br>
그림2 (출처: '파이썬으로 배우는 알고리즘 트레이딩')

객체는 정수, 실수, 문자열과 마찬가지로 **하나의 타입**으로 인식되기 때문에 명함으로 만들어야할 고객의 명단이 여러명이더라도 쉽게 관리할 수 있다. 마치 5개의 정수값을 변수로 바인딩하는 것처럼 5개의 명함 값을 변수로 바인딩하거나 리스트에 명함이라는 객체를 저장하면 된다. 

이번 포스팅의 핵심인 **class**는 객체를 찍어내는 틀이라 생각하면 이해가 그나마(?) 직관적이다. 여기까지만 봐서는 아직 이해가 쉽지 않지만 앞의 명함 만들기 프로젝트를 예시로 내용을 좀더 전개해보면 class에 대한 개념이 어느정도 자리잡을 것이다. 

### (2) python에서 class 정의하기

python에서 함수를 정의할때 def 라는 키워드를 썼던 것처럼 class를 정의하려면 class라는 키워드를 사용한다. **class는 곧 객체를 찍어내는 틀이고 객체는 데이터와 함수의 묶어놓은 하나의 새로운 타입**이니 **class에 변수와 함수를 포함**시켜 정의가 가능하다. 

class를 정의하는 것은 객체를 찍어내는 틀을 만들었다는 것이니 이를 실제로 사용하려면 **인스턴스**라는 것을 생성해야한다. 붕어빵 기계에 비유하면 class는 붕어빵을 만드는 기계이고 인스턴스는 기계에 반죽, 팥 등을 넣어 만든 붕어빵에 해당한다.(***개인적으로 이 책에서 제시한 위 비유가 클래스와 인스턴스 개념을 이해하는데 제일 도움이 많이 된 직관적인 비유라 생각한다***)

python에서 정의된 class를 이용해 인스턴스를 생성하려면 class 뒤에 ()을 넣으면 된다.(함수를 호출하는 것과 비슷하다)

아래의 예시를 보면 BusinessCard class를 통해 card1이라는 인스턴스를 생성하면 메모리의 0x7f50910e57c0 위치에 해당 인스턴스가 생성되고 card1이라는 변수가 이를 바인딩 했음을 알 수 있다. 그리고 card1의 타입을 확인해보면 BusinessCard 클래스임을 알 수 있다. 

```python
## BusinessCard라는 class를 생성
class BusinessCard:
    pass

## card1 이라는 인스턴스를 생성
card1 = BusinessCard()

## card1 호출
>>> card1
<__main__.BusinessCard object at 0x7f50910e57c0>

## card1 타입 확인
>>> type(card1)
<class '__main__.BusinessCard'>
```

### (2) class에 method 추가하기

앞에서 정의한 BusinessCard class는 내부에 데이터와 함수가 없는 빈 껍데기였다. 그래서 딱히 인스턴스를 생성해도 이를 통해 할 수 있는 기능이 없었다. 여기에서는 BusinessCard class에 사용자로부터 데이터를 입력받고 이를 저장하는 기능을 수행하는 set_info 함수를 추가해본다. 이처럼 class 내부에 정의되어 있는 함수를 특별히 method(메서드)라 한다. 

```python
class BusinessCard:
    def set_info(self, name, email, addr):
        self.name = name
        self.email = email
        self.addr = addr
```
위에서 set_info의 인자중 name, email, addr은 각각 사용자의 이름, email, 주소 정보를 method로 전달하는 인자인데 문제는 **self** 라는 인자인다. 뒤에서 자세히 설명하겠지만 **self 인자는 인스턴스 그 자체를 의미**한다.

class는 결국 인스턴스라는 붕어빵을 만들기위한 틀로서 기능하고, 우리는 생성된 인스턴스에서 set_info와 같은 method를 활용할 것이다. 이때 만약 우리가 **member1이라는 인스턴스를 생성하여 set_info method를 통해 사용자의 이름, 주소 등의 정보를 저장하고자 한다면 이 정보들은 class인 BUsinessCard의 name, email, addr이 아닌 card1 인스턴스의 name, email, addr에 바인딩 되기를 바랄 것이다.** 그렇기 때문에 class의 method의 인자로 인스턴스 그 자체인 self가 항상 들어가고 self.name, self.email 등이 이름, 주소 등의 정보를 비인딩하는 것이다. 다만 후에 찍어낼 붕어빵(인스턴스)의 이름이 뭐가 될지 안정해졌기 때문에 self라는 단어를 대신 사용하는 것이다.(***뒤에서 좀 더 보충 설명이 나오니 이해가 어렵더라도 일단 넘어가자***)

![](https://github.com/dswcrispr/dswcrispr.github.io/blob/master/assets/images/class_concept/class_3.jpg?raw=true)
<br>
그림3. 변수의 바인딩 (출처: '파이썬으로 배우는 알고리즘 트레이딩')

이제 새롭게 정의한 BusinessCard class로부터 member1이라는 인스턴스를 생성하고 set_info method를 사용하여 사용자의 정보를 저장해보자. member1 인스턴스는 set_info method를 가진 class로부터 생성되었으므로 당연히 member1 인스턴스 또한 set_info method를 호출할 수 있다. 

이때 set_info method는 처음 정의 시 self를 포함해서 인자가 4개 들어가는 함수로 정의했지만 self 인자는 인스턴스 자체를 의미하므로 여기에서는 이름, email, 주소 3가지 인자만 method에 전달하면 된다. 

```python
## 인스턴스 생성
member1 = BusinessCard()

## set_info method 호출
member1.set_info('yuna kim', 'yunakim@naver.com', 'Seoul')
```

최초 BusinessCard class에서 self.name, self.addr 등이 바인딩하는 정보는 인스턴스.name, 인스턴스.addr 등을 통해 접근가능하다. 

```python
>>> member1.name
'yuna Kim'
>>> member1.email
'yunakim@naver.com
```

붕어빵 기계 틀인 BusinessCard class를 통해 또 다른 붕어빵인 member2를 만드는 것도 가능하다. 

```python
## 인스턴스 생성
member2 = BusinessCard()

## set_info method 호출
member2.set_info('sarang lee', 'sarang.lee@naver.com', 'Kyunggi')

>>> member2.name
'sarang lee'
>>> member1.email
'sarang.lee@naver.com
```

member1과 member2는 서로 동일한 인스턴스 변수인 name, email, addr을 갖고 있지만 각각 다른 데이터를 바인딩하고 있다. 

![](https://github.com/dswcrispr/dswcrispr.github.io/blob/master/assets/images/class_concept/class_3.jpg?raw=true)

<br>
그림4. member1, member2가 바인딩하는 정보 (출처: '파이썬으로 배우는 알고리즘 트레이딩')

이제 BusinessCard class에 명함을 출력하는 method를 추가해본다. 맨 처음 명함만들기 예제에서 사용한 print_business_card 함수와 동일한 함수이다. 이때 인자로는 인스턴스 자체를 의미하는 self만을 사용한다. 왜냐하면 명함 출력에 필요한 이름, email, 주소 정보는 set_info method를 통해 이미 self.name과 같은 인스턴스 변수에 저장되어 있어서 이를 활용하기만 하면 되기 때문이다. 

```python
class BusinessCard:
    def set_info(self, name, email, addr):
        self.name = name
        self.email = email
        self.addr = addr

    def print_info(self):
        print('--------------------------')
        print('Name: %s' % self.name)
        print('E-mail: %s' % self.email)
        print('Address: %s' % self.addr)
        print('--------------------------')
```

새로운 BusinessCard class로부터 member1 인스턴스를 정의하고 명함을 출력해본다.

```python
## 인스턴스 생성
member1 = BusinessCard()

## set_info method 호출
member1.set_info('yuna kim', 'yunakim@naver.com', 'Seoul')

>>> member1.print_info()
--------------------------
Name: yuna kim
E-mail: yunakim@naver.com
Address: Seoul
--------------------------
```
