---
title:  "Dune Analytics에서 MakerDao 주요 지표 다운로드 및 활용"
excerpt: "Python과 SQL을 활용한 자료 정리 및 다운로드"

categories:
  - 프로젝트
tags:
  - dune analytics
  - DeFi
  - MakerDao
  - SQL

last_modified_at: 2022-03-08T08:06:00-05:00
---

이번 포스트에서는 Ethereum, Polygon, Binance Smart Chain(BSC), Gnosis Chain 등과 같은 블록체인의 트랜잭션, 토큰발행량, 수수료 등의 data를 제공하는 [Dune Analytics](https://dune.xyz/home)로부터 원하는 data를 다운받고 가공하는 과정을 소개한다.  

Dune Analytics에는 블록체인 data가 데이터베이스 형태로 저장되어 있으므로 이로부터 원하는 data를 불러오기 위해서는 SQL(Structured Query Language)을 사용하여야한다. 또한 Dune Analytics 사이트에서는 원하는 data를 그래프나 표 등으로 시각화하는 tool을 제공하지만 data를 엑셀이나 CSV 형태의 파일로 다운로드 받을 수 있는 기능은 제공하지 않으므로 python의 'duneanalytics' 라이브러리를 통해 data를 다운 받아야한다.  

여기에서는 예시로서 MakerDao 프로토콜의 DSR(Dai Savings rate), stability fee, Dai발행량, 예치된 담보자산의 양 data 등을 다운받아 본다. 

## MakerDao 프로토콜의 stability fee data 다운로드     

<br>
Python의 duneanalytics 라이브러리를 불러오고 stability fee data를 불러오는 SQL 코드를 실행한다. duneanlytics 라이브러리는 python을 통해 dune analytics 사이트에 접속하고 원하는 data에 대한 접근을 가능하게 만들어준다.       
<br>
```python
# Library import
from duneanalytics import DuneAnalytics

#Login information
dune = DuneAnalytics('사용자id', '사용자 비밀번호')

dune.login()
dune.fetch_auth_token()



import pyupbit
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from pandas.plotting import register_matplotlib_converters
from dateutil.relativedelta import relativedelta
register_matplotlib_converters()
```


pyupbit에서 다운받을 수 있

MakerDAO는 Ethereum 블록체인 기반의 분산화된 자율화 조직(Decentralized Autonomous Organization) 프로젝트로 




```python
s = 'python syntax highlighting'
print s
```
