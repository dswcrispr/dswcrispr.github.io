---
title:  "[Statistics] Panel data 모형"
excerpt: "random effect, fixed effect"

categories:
  - Math/Statistics
tags:
  - Panel data
  - 패널
  - random effect
  - fixed effect

use_math: true
comments: true

last_modified_at: 2022-04-27T08:06:00-05:00
---

panel data는 여러 개체들을 복수의 시간에 걸쳐 관측하여 얻는 데이터를 의미한다. 이는 횡단면(cross sectional) 데이터와 시계열(time series) 데이터가 결합된 형태로 볼 수 있다. 

panel data를 이용하는 경우 횡단면 데이터나 시계열 데이터에 관측지 수가 많다는 장점이 있다. 또한 panel data 사용을 통해 관측 불가능한 요인들을 통제할 수 있다는 장점이 있다. 
이번 포스트에서는 우선 Geometric Brownian Motion을 이용하여 이더리움의 미래 가격경로를 시뮬레이션 해본다.   


## 1. Geometric Browniam Motion    

우선 Geometric Brownian Motion의 수식은 아래와 같다.

$$
\textit{ds} = \mu S\textit{dt}+\sigma S\textit{dW}\;\;\;(1)\\
$$

$$
\cdot \textit{ds}: Change\; in\; asset\; prices\; in\; very\; short\; time\; period\\
\cdot \textit{S}: Asset\;price\;for\;the\;initial\;period\\
\cdot \mu: Expected\;return\;for\;the\;time\;period\;or\;the\;drift\\
\cdot \textit{dt}: Change\;in\;time\\     
\cdot \sigma: Volatility\; of\; asset\; price\\
\cdot \textit{dW}: Change\;in\;Brownian\; motion\;term\\
$$

(1) 수식은 짧은 시간 간격 동안의 자산가격 변화가 짧은 시간 간격(dt) 동안의 평균적인 수익률(drift)과 랜덤한 충격에 의한 변동분의 합으로 나타남을 의미한다.

(1) 수식에 Ito formula(다른 포스트에서 추가 설명 예정)를 적용하여 SDE(Stochastic Differential Equation)를 풀면 아래와 같은 수식을 유도할 수 있다.

$$
S_{t} = S_{0}\textit{e}^{(\mu -\frac{1}{2}\sigma ^{2})t+\sigma \textit{W}_{t}}\;\;\;(2)\\
$$  

<br>
  

 





## 3. Geometric Brownian Motion 시뮬레이션 

위에서 구한 이더리움 가격 data를 바탕으로 Geometric Brownian Motion 시뮬레이션을 구현해본다.  
<br>
앞서 소개한 Geometric Brownian Motion 수식을 다시 써보면 아래와 같다. 

$$
S_{t} = S_{0}\textit{e}^{(\mu -\frac{1}{2}\sigma ^{2})t+\sigma \textit{W}_{t}}\;\;\;(2)\\
$$  

이더리움 가격에 대한 시뮬레이션은 위 (2)식의 변수에 값을 대입하여 $S_{0}$으로부터 $S_{1}$, $S_{2}$ ...  $S_{t}$ 
 값들을 계산해 나가는 과정이다.  

이때 초기값($\textit{S}_{0}$)은 2020.2.7일의 이더리움 가격이며, $\mu$는 2018.1.1 ~ 2021.12.31 기간 중 이더리움 일일 수익률의 평균값, $\sigma$는 일일 수익률의 표준편차를 이용한다.  

Brownian motion 항($W_{t}$)은 각 k 시점마다의 충격, $b_{k} \sim N(0, k)$ 의 합 즉, $W_{t} = \sum_{k=1}^{t}b_{k}$ 으로 주어지며, 여기에서는 이더리움의 일별 가격자료를 활용하므로 $k$ = 1로 둔다.  

실제 계산에서는 (2)식의 $e^{(\mu -\frac{1}{2}\sigma ^{2})t+\sigma W_{t}}$ 부분을 drift 항($e^{(\mu -\frac{1}{2}\sigma ^{2}t)}$)과  diffusion 항($e^{\sigma W_{t}}$)으로 분리하여 $S_{0}$에 곱하는 식으로 $S_{t}$을 구한다.
<br>

이제 simulation에 필요한 변수들을 아래와 같이 설정한다. 


